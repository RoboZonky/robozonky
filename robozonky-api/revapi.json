{
  "revapi": {
    "java": {
      "filter": {
        "packages": {
          "regex": true,
          "exclude": [
            "com\\.github\\.robozonky\\.internal(\\..+)?"
          ]
        }
      }
    },
    "ignore": [
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.confirmations.ConfirmationProvider",
        "justification": "Confirmation API and Zonkoid integration removed after earlier deprecation."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.confirmations.ConfirmationProviderService",
        "justification": "Confirmation API and Zonkoid integration removed after earlier deprecation."
      },
      {
        "code": "java.class.removed",
        "old": "class com.github.robozonky.api.confirmations.RequestId",
        "justification": "Confirmation API and Zonkoid integration removed after earlier deprecation."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.notifications.InvestmentDelegatedEvent",
        "justification": "Confirmation API and Zonkoid integration removed after earlier deprecation."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.notifications.InvestmentRejectedEvent",
        "justification": "Confirmation API and Zonkoid integration removed after earlier deprecation."
      },
      {
        "code": "java.method.removed",
        "old": "method java.util.Optional<com.github.robozonky.api.strategies.RecommendedLoan> com.github.robozonky.api.strategies.LoanDescriptor::recommend(int, boolean)",
        "justification": "Confirmation API and Zonkoid integration removed after earlier deprecation."
      },
      {
        "code": "java.method.removed",
        "old": "method boolean com.github.robozonky.api.strategies.RecommendedLoan::isConfirmationRequired()",
        "justification": "Confirmation API and Zonkoid integration removed after earlier deprecation."
      },
      {
        "code": "java.method.removed",
        "old": "method boolean com.github.robozonky.api.remote.entities.BaseLoan::isFastcash()",
        "justification": "Removed as it was previously deprecated in 5.3."
      },
      {
        "code": "java.method.removed",
        "old": "method java.math.BigDecimal com.github.robozonky.api.strategies.PortfolioOverview::getCzkAvailable()",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.notifications.LoanRepaidEvent",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.notifications.Summary",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.method.addedToInterface",
        "new": "method com.github.robozonky.api.strategies.ExtendedPortfolioOverview com.github.robozonky.api.notifications.WeeklySummaryEvent::getPortfolioOverview()",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.method.removed",
        "old": "method com.github.robozonky.api.notifications.Summary com.github.robozonky.api.notifications.WeeklySummaryEvent::getSummary()",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.remote.TransactionApi",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "class com.github.robozonky.api.remote.entities.Transaction",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.method.numberOfParametersChanged",
        "old": "method com.github.robozonky.api.remote.entities.sanitized.InvestmentBuilder com.github.robozonky.api.remote.entities.sanitized.Investment::sanitize(com.github.robozonky.api.remote.entities.RawInvestment, java.util.function.Function<com.github.robozonky.api.remote.entities.sanitized.Investment, java.time.LocalDate>)",
        "new": "method com.github.robozonky.api.remote.entities.sanitized.InvestmentBuilder com.github.robozonky.api.remote.entities.sanitized.Investment::sanitize(com.github.robozonky.api.remote.entities.RawInvestment)",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.method.numberOfParametersChanged",
        "old": "method com.github.robozonky.api.remote.entities.sanitized.Investment com.github.robozonky.api.remote.entities.sanitized.Investment::sanitized(com.github.robozonky.api.remote.entities.RawInvestment, java.util.function.Function<com.github.robozonky.api.remote.entities.sanitized.Investment, java.time.LocalDate>)",
        "new": "method com.github.robozonky.api.remote.entities.sanitized.Investment com.github.robozonky.api.remote.entities.sanitized.Investment::sanitized(com.github.robozonky.api.remote.entities.RawInvestment)",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "enum com.github.robozonky.api.remote.enums.TransactionOrientation",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.notifications.LoanAndInvestment",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.notifications.RoboZonkyDaemonFailedEvent",
        "justification": "Replaced with RoboZonkyDaemonSuspendedEvent."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.notifications.InvestmentRequestedEvent",
        "justification": "Removed on account of no longer being necessary or helpful."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.notifications.InvestmentSkippedEvent",
        "justification": "Removed on account of no longer being necessary or helpful."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.notifications.PurchaseRequestedEvent",
        "justification": "Removed on account of no longer being necessary or helpful."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.notifications.SaleRequestedEvent",
        "justification": "Removed on account of no longer being necessary or helpful."
      },
      {
        "code": "java.class.removed",
        "old": "interface com.github.robozonky.api.remote.WalletApi",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "class com.github.robozonky.api.remote.entities.BankAccount",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "class com.github.robozonky.api.remote.entities.BlockedAmount",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "class com.github.robozonky.api.remote.entities.Wallet",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.method.addedToInterface",
        "new": "method java.util.Optional<java.time.OffsetDateTime> com.github.robozonky.api.remote.entities.sanitized.Investment::getActiveFrom()",
        "justification": "New method to allow to replace blocked amounts."
      },
      {
        "code": "java.method.addedToInterface",
        "new": "method T com.github.robozonky.api.remote.entities.sanitized.MutableInvestment<T extends com.github.robozonky.api.remote.entities.sanitized.MutableInvestment<T extends com.github.robozonky.api.remote.entities.sanitized.MutableInvestment<T>>>::setActiveFrom(java.time.OffsetDateTime)",
        "justification": "New method to allow to replace blocked amounts."
      },
      {
        "code": "java.field.removed",
        "old": "field com.github.robozonky.api.remote.enums.InvestmentType.INVESTOR",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.field.enumConstantOrderChanged",
        "old": "field com.github.robozonky.api.remote.enums.InvestmentType.N",
        "new": "field com.github.robozonky.api.remote.enums.InvestmentType.N",
        "justification": "Other constants were removed."
      },
      {
        "code": "java.field.enumConstantOrderChanged",
        "old": "field com.github.robozonky.api.remote.enums.InvestmentType.P",
        "new": "field com.github.robozonky.api.remote.enums.InvestmentType.P",
        "justification": "Other constants were removed."
      },
      {
        "code": "java.field.removed",
        "old": "field com.github.robozonky.api.remote.enums.InvestmentType.RENTIER",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "enum com.github.robozonky.api.remote.enums.TransactionCategory",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.method.addedToInterface",
        "new": "method boolean com.github.robozonky.api.remote.entities.sanitized.BaseLoan::isInsuredInFuture()",
        "justification": "New Zonky API attributes."
      },
      {
        "code": "java.method.addedToInterface",
        "new": "method java.util.Optional<com.github.robozonky.api.remote.enums.LoanHealthInfo> com.github.robozonky.api.remote.entities.sanitized.Investment::getLoanHealthInfo()",
        "justification": "New Zonky API attributes."
      },
      {
        "code": "java.method.addedToInterface",
        "new": "method java.util.Optional<java.math.BigDecimal> com.github.robozonky.api.remote.entities.sanitized.Investment::getSmpPrice()",
        "justification": "New Zonky API attributes."
      },
      {
        "code": "java.method.addedToInterface",
        "new": "method T com.github.robozonky.api.remote.entities.sanitized.MutableBaseLoan<T extends com.github.robozonky.api.remote.entities.sanitized.MutableBaseLoan<T extends com.github.robozonky.api.remote.entities.sanitized.MutableBaseLoan<T>>>::setInsuredInFuture(boolean)",
        "justification": "New Zonky API attributes."
      },
      {
        "code": "java.method.addedToInterface",
        "new": "method T com.github.robozonky.api.remote.entities.sanitized.MutableInvestment<T extends com.github.robozonky.api.remote.entities.sanitized.MutableInvestment<T extends com.github.robozonky.api.remote.entities.sanitized.MutableInvestment<T>>>::setLoanHealthInfo(com.github.robozonky.api.remote.enums.LoanHealthInfo)",
        "justification": "New Zonky API attributes."
      },
      {
        "code": "java.method.addedToInterface",
        "new": "method T com.github.robozonky.api.remote.entities.sanitized.MutableInvestment<T extends com.github.robozonky.api.remote.entities.sanitized.MutableInvestment<T extends com.github.robozonky.api.remote.entities.sanitized.MutableInvestment<T>>>::setSmpPrice(java.math.BigDecimal)",
        "justification": "New Zonky API attributes."
      },
      {
        "code": "java.annotation.attributeValueChanged",
        "old": "parameter com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::login(===java.lang.String===, java.lang.String, java.lang.String, com.github.robozonky.api.remote.enums.OAuthScope)",
        "new": "parameter com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::login(===java.lang.String===, java.lang.String, java.lang.String)",
        "annotationType": "javax.ws.rs.FormParam",
        "attribute": "value",
        "oldValue": "\"username\"",
        "newValue": "\"code\"",
        "justification": "Refactored Zonky authentication API due to PSD2."
      },
      {
        "code": "java.annotation.added",
        "old": "parameter com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::login(java.lang.String, ===java.lang.String===, java.lang.String, com.github.robozonky.api.remote.enums.OAuthScope)",
        "new": "parameter com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::login(java.lang.String, ===java.lang.String===, java.lang.String)",
        "annotation": "@javax.ws.rs.DefaultValue(\"https:\/\/app.zonky.cz\/api\/oauth\/code\")",
        "justification": "Refactored Zonky authentication API due to PSD2."
      },
      {
        "code": "java.annotation.attributeValueChanged",
        "old": "parameter com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::login(java.lang.String, ===java.lang.String===, java.lang.String, com.github.robozonky.api.remote.enums.OAuthScope)",
        "new": "parameter com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::login(java.lang.String, ===java.lang.String===, java.lang.String)",
        "annotationType": "javax.ws.rs.FormParam",
        "attribute": "value",
        "oldValue": "\"password\"",
        "newValue": "\"redirect_uri\"",
        "justification": "Refactored Zonky authentication API due to PSD2."
      },
      {
        "code": "java.annotation.attributeValueChanged",
        "old": "parameter com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::login(java.lang.String, java.lang.String, ===java.lang.String===, com.github.robozonky.api.remote.enums.OAuthScope)",
        "new": "parameter com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::login(java.lang.String, java.lang.String, ===java.lang.String===)",
        "annotationType": "javax.ws.rs.DefaultValue",
        "attribute": "value",
        "oldValue": "\"password\"",
        "newValue": "\"authorization_code\"",
        "justification": "Refactored Zonky authentication API due to PSD2."
      },
      {
        "code": "java.method.numberOfParametersChanged",
        "old": "method com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::login(java.lang.String, java.lang.String, java.lang.String, com.github.robozonky.api.remote.enums.OAuthScope)",
        "new": "method com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::login(java.lang.String, java.lang.String, java.lang.String)",
        "justification": "Refactored Zonky authentication API due to PSD2."
      },
      {
        "code": "java.method.numberOfParametersChanged",
        "old": "method com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::refresh(java.lang.String, java.lang.String, com.github.robozonky.api.remote.enums.OAuthScope)",
        "new": "method com.github.robozonky.api.remote.entities.ZonkyApiToken com.github.robozonky.api.remote.ZonkyOAuthApi::refresh(java.lang.String, java.lang.String)",
        "justification": "Refactored Zonky authentication API due to PSD2."
      },
      {
        "code": "java.field.removed",
        "old": "field com.github.robozonky.api.remote.enums.OAuthScope.SCOPE_APP_OAUTH",
        "justification": "Refactored Zonky authentication API due to PSD2."
      },
      {
        "code": "java.field.removed",
        "old": "field com.github.robozonky.api.remote.enums.OAuthScope.SCOPE_APP_WEB",
        "justification": "Refactored Zonky authentication API due to PSD2."
      },
      {
        "code": "java.field.removed",
        "old": "field com.github.robozonky.api.remote.enums.OAuthScope.SCOPE_FILE_DOWNLOAD",
        "justification": "Refactored Zonky authentication API due to PSD2."
      },
      {
        "code": "java.method.removed",
        "old": "method java.util.Optional<com.github.robozonky.api.remote.enums.OAuthScope> com.github.robozonky.api.remote.enums.OAuthScopes::getPrimaryScope()",
        "justification": "Refactored Zonky authentication API due to PSD2."
      },
      {
        "code": "java.method.returnTypeChanged",
        "old": "method java.time.OffsetDateTime com.github.robozonky.api.remote.entities.Restrictions::getWithdrawalDate()",
        "new": "method java.util.Optional<java.time.OffsetDateTime> com.github.robozonky.api.remote.entities.Restrictions::getWithdrawalDate()",
        "justification": "The information is optional."
      },
      {
        "code": "java.annotation.removed",
        "old": "method java.time.OffsetDateTime com.github.robozonky.api.remote.entities.Restrictions::getWithdrawalDate()",
        "new": "method java.util.Optional<java.time.OffsetDateTime> com.github.robozonky.api.remote.entities.Restrictions::getWithdrawalDate()",
        "annotation": "@javax.xml.bind.annotation.XmlElement",
        "justification": "The information is optional."
      },{
        "code": "java.class.removed",
        "old": "class com.github.robozonky.api.remote.entities.ExpectedPayment",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.class.removed",
        "old": "class com.github.robozonky.api.remote.entities.Instalment",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.method.removed",
        "old": "method java.util.List<com.github.robozonky.api.remote.entities.Instalment> com.github.robozonky.api.remote.entities.Statistics::getCashFlow()",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      },
      {
        "code": "java.method.removed",
        "old": "method java.util.List<com.github.robozonky.api.remote.entities.ExpectedPayment> com.github.robozonky.api.remote.entities.Statistics::getExpectedPayments()",
        "justification": "Removed as we no longer have access to account information due to the PSD2 regulation."
      }
    ]
  }
}
